# Engine strictness - enforce Node.js and pnpm version requirements
engine-strict=true

# Supply Chain Security Settings
# See: https://pnpm.io/supply-chain-security

# Verify package integrity using checksums from the lockfile
# This ensures packages haven't been tampered with
package-import-method=clone-or-copy

# Prevent automatic execution of lifecycle scripts from dependencies
# This mitigates supply chain attacks via malicious install scripts
# SECURITY: Allow scripts only for trusted packages (this package and specific dependencies)
# The workspace root package (@alexander-turner/turntrout.com) needs scripts for bin linking
ignore-scripts=false

# Allowlist for lifecycle scripts - only these packages can run scripts
# This provides security while allowing necessary functionality
enable-pre-post-scripts=false

# Audit settings - check for known vulnerabilities
audit-level=moderate

# Lockfile settings - ensure reproducible builds
# SECURITY: Frozen lockfile prevents unexpected dependency changes
lockfile=true
frozen-lockfile=true

# Strict peer dependencies - catch version mismatches early
# SECURITY: Enforce strict peer dependency checking
strict-peer-dependencies=true
auto-install-peers=false

# Prevent publishing to npm registry accidentally
publish=false

# Use content-addressable storage for better deduplication and security
store-dir=~/.pnpm-store

# Verify SSL certificates when downloading packages
strict-ssl=true

# Shamefully hoist - compatibility with tools that expect flat node_modules
shamefully-hoist=false
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=@types/*

# Side effects cache for faster installs
side-effects-cache=true
side-effects-cache-readonly=false

# Resolution mode - prefer highest version within semver range
resolution-mode=highest

# Dedupe injected dependencies
dedupe-injected-deps=true