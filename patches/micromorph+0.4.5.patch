diff --git a/node_modules/micromorph/dist/index.js b/node_modules/micromorph/dist/index.js
index 23f2e88..5f5710a 100644
--- a/node_modules/micromorph/dist/index.js
+++ b/node_modules/micromorph/dist/index.js
@@ -1 +1 @@
-var T=e=>(t,r)=>t[`node${e}`]===r[`node${e}`],b=T("Name"),C=T("Type"),g=T("Value");function M(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let r=[],n=new Map,o=new Map;for(let s of e.attributes)n.set(s.name,s.value);for(let s of t.attributes){let a=n.get(s.name);s.value===a?n.delete(s.name):(typeof a<"u"&&n.delete(s.name),o.set(s.name,s.value))}for(let s of n.keys())r.push({type:5,name:s});for(let[s,a]of o.entries())r.push({type:4,name:s,value:a});return r}function N(e,t=!0){let r=`${e.localName}`;for(let{name:n,value:o}of e.attributes)t&&n.startsWith("data-")||(r+=`[${n}=${o}]`);return r+=e.innerHTML,r}function h(e){switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[name="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return N(e)}function x(e){let[t,r=""]=e.split("?");return`${t}?t=${Date.now()}&${r.replace(/t=\d+/g,"")}`}function c(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:r,value:n}of e.attributes)r==="src"&&(n=x(n)),t.setAttribute(r,n);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function R(e,t){if(e.children.length===0&&t.children.length===0)return[];let r=[],n=new Map,o=new Map,s=new Map;for(let a of e.children)n.set(h(a),a);for(let a of t.children){let i=h(a),u=n.get(i);u?N(a,!1)!==N(u,!1)&&o.set(i,c(a)):s.set(i,c(a)),n.delete(i)}for(let a of e.childNodes){if(a.nodeType===1){let i=h(a);if(n.has(i)){r.push({type:1});continue}else if(o.has(i)){let u=o.get(i);r.push({type:3,attributes:M(a,u),children:I(a,u)});continue}}r.push(void 0)}for(let a of s.values())r.push({type:0,node:c(a)});return r}function I(e,t){let r=[],n=Math.max(e.childNodes.length,t.childNodes.length);for(let o=0;o<n;o++){let s=e.childNodes.item(o),a=t.childNodes.item(o);r[o]=p(s,a)}return r}function p(e,t){if(!e)return{type:0,node:c(t)};if(!t)return{type:1};if(C(e,t)){if(e.nodeType===3){let r=e.nodeValue,n=t.nodeValue;if(r.trim().length===0&&n.trim().length===0)return}if(e.nodeType===1){if(b(e,t)){let r=e.tagName==="HEAD"?R:I;return{type:3,attributes:M(e,t),children:r(e,t)}}return{type:2,node:c(t)}}else return e.nodeType===9?p(e.documentElement,t.documentElement):g(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:c(t)}}function $(e,t){if(t.length!==0)for(let{type:r,name:n,value:o}of t)r===5?e.removeAttribute(n):r===4&&e.setAttribute(n,o)}async function O(e,t,r){if(!t)return;let n;switch(e.nodeType===9?(e=e.documentElement,n=e):r?n=r:n=e,t.type){case 0:{let{node:o}=t;e.appendChild(o);return}case 1:{if(!n)return;e.removeChild(n);return}case 2:{if(!n)return;let{node:o,value:s}=t;if(typeof s=="string"){n.nodeValue=s;return}n.replaceWith(o);return}case 3:{if(!n)return;let{attributes:o,children:s}=t;$(n,o);let a=Array.from(n.childNodes);await Promise.all(s.map((i,u)=>O(n,i,a[u])));return}}}function P(e,t){let r=p(e,t);return O(e,r)}export{P as default,p as diff,O as patch};
+var T=e=>(t,r)=>t[`node${e}`]===r[`node${e}`],b=T("Name"),C=T("Type"),g=T("Value");function M(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let r=[],n=new Map,o=new Map;for(let s of e.attributes)n.set(s.name,s.value);for(let s of t.attributes){let i=n.get(s.name);s.value===i?n.delete(s.name):(typeof i<"u"&&n.delete(s.name),o.set(s.name,s.value))}for(let s of n.keys())r.push({type:5,name:s});for(let[s,i]of o.entries())r.push({type:4,name:s,value:i});return r}function N(e,t=!0){let r=`${e.localName}`;for(let{name:n,value:o}of e.attributes)t&&n.startsWith("data-")||(r+=`[${n}=${o}]`);return r+=e.innerHTML,r}function h(e){if(e.id==="pond-video")return`${e.localName}#${e.id}`;switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[property="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return N(e)}function x(e){let[t,r=""]=e.split("?");return`${t}?t=${Date.now()}&${r.replace(/t=\d+/g,"")}`}function c(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:r,value:n}of e.attributes)r==="src"&&(n=x(n)),t.setAttribute(r,n);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function D(e,t){if(e.children.length===0&&t.children.length===0)return[];let r=[],n=new Map,o=new Map,s=new Map;for(let i of e.children)n.set(h(i),i);for(let i of t.children){let a=h(i),u=n.get(a);u?N(i,!1)!==N(u,!1)&&o.set(a,c(i)):s.set(a,c(i)),n.delete(a)}for(let i of e.childNodes){if(i.nodeType===1){let a=h(i);if(n.has(a)){r.push({type:1});continue}else if(o.has(a)){let u=o.get(a);r.push({type:3,attributes:M(i,u),children:R(i,u)});continue}}r.push(void 0)}for(let i of s.values())r.push({type:0,node:c(i)});return r}function R(e,t){let r=[],n=Math.max(e.childNodes.length,t.childNodes.length);for(let o=0;o<n;o++){let s=e.childNodes.item(o),i=t.childNodes.item(o);r[o]=m(s,i)}return r}function m(e,t){if(!e)return{type:0,node:c(t)};if(!t)return{type:1};if(C(e,t)){if(e.nodeType===3){let r=e.nodeValue,n=t.nodeValue;if(r.trim().length===0&&n.trim().length===0)return}if(e.nodeType===1){if(b(e,t)){let r=D;return{type:3,attributes:M(e,t),children:r(e,t)}}return{type:2,node:c(t)}}else return e.nodeType===9?m(e.documentElement,t.documentElement):g(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:c(t)}}function $(e,t){if(t.length!==0)for(let{type:r,name:n,value:o}of t)r===5?e.removeAttribute(n):r===4&&e.setAttribute(n,o)}async function O(e,t,r){if(!t)return;let n;switch(e.nodeType===9?(e=e.documentElement,n=e):r?n=r:n=e,t.type){case 0:{let{node:o}=t;e.appendChild(o);return}case 1:{if(!n)return;e.removeChild(n);return}case 2:{if(!n)return;let{node:o,value:s}=t;if(typeof s=="string"){n.nodeValue=s;return}n.replaceWith(o);return}case 3:{if(!n)return;let{attributes:o,children:s}=t;$(n,o);let i=Array.from(n.childNodes);await Promise.all(s.map((a,u)=>O(n,a,i[u])));return}}}function P(e,t){let r=m(e,t);return O(e,r)}export{P as default,m as diff,O as patch};
diff --git a/node_modules/micromorph/dist/nav.js b/node_modules/micromorph/dist/nav.js
index f61be6d..5e20205 100644
--- a/node_modules/micromorph/dist/nav.js
+++ b/node_modules/micromorph/dist/nav.js
@@ -1 +1 @@
-var R=(e,t,n)=>{e.setAttribute(t,new URL(e.getAttribute(t),n).pathname)};function x(e,t){e.querySelectorAll('[href^="./"], [href^="../"]').forEach(n=>R(n,"href",t)),e.querySelectorAll('[src^="./"], [src^="../"]').forEach(n=>R(n,"src",t))}var N=e=>(t,n)=>t[`node${e}`]===n[`node${e}`],D=N("Name"),M=N("Type"),L=N("Value");function I(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let n=[],r=new Map,i=new Map;for(let o of e.attributes)r.set(o.name,o.value);for(let o of t.attributes){let s=r.get(o.name);o.value===s?r.delete(o.name):(typeof s<"u"&&r.delete(o.name),i.set(o.name,o.value))}for(let o of r.keys())n.push({type:5,name:o});for(let[o,s]of i.entries())n.push({type:4,name:o,value:s});return n}function y(e,t=!0){let n=`${e.localName}`;for(let{name:r,value:i}of e.attributes)t&&r.startsWith("data-")||(n+=`[${r}=${i}]`);return n+=e.innerHTML,n}function g(e){switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[name="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return y(e)}function k(e){let[t,n=""]=e.split("?");return`${t}?t=${Date.now()}&${n.replace(/t=\d+/g,"")}`}function u(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:n,value:r}of e.attributes)n==="src"&&(r=k(r)),t.setAttribute(n,r);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function V(e,t){if(e.children.length===0&&t.children.length===0)return[];let n=[],r=new Map,i=new Map,o=new Map;for(let s of e.children)r.set(g(s),s);for(let s of t.children){let c=g(s),a=r.get(c);a?y(s,!1)!==y(a,!1)&&i.set(c,u(s)):o.set(c,u(s)),r.delete(c)}for(let s of e.childNodes){if(s.nodeType===1){let c=g(s);if(r.has(c)){n.push({type:1});continue}else if(i.has(c)){let a=i.get(c);n.push({type:3,attributes:I(s,a),children:P(s,a)});continue}}n.push(void 0)}for(let s of o.values())n.push({type:0,node:u(s)});return n}function P(e,t){let n=[],r=Math.max(e.childNodes.length,t.childNodes.length);for(let i=0;i<r;i++){let o=e.childNodes.item(i),s=t.childNodes.item(i);n[i]=A(o,s)}return n}function A(e,t){if(!e)return{type:0,node:u(t)};if(!t)return{type:1};if(M(e,t)){if(e.nodeType===3){let n=e.nodeValue,r=t.nodeValue;if(n.trim().length===0&&r.trim().length===0)return}if(e.nodeType===1){if(D(e,t)){let n=e.tagName==="HEAD"?V:P;return{type:3,attributes:I(e,t),children:n(e,t)}}return{type:2,node:u(t)}}else return e.nodeType===9?A(e.documentElement,t.documentElement):L(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:u(t)}}function Y(e,t){if(t.length!==0)for(let{type:n,name:r,value:i}of t)n===5?e.removeAttribute(r):n===4&&e.setAttribute(r,i)}async function v(e,t,n){if(!t)return;let r;switch(e.nodeType===9?(e=e.documentElement,r=e):n?r=n:r=e,t.type){case 0:{let{node:i}=t;e.appendChild(i);return}case 1:{if(!r)return;e.removeChild(r);return}case 2:{if(!r)return;let{node:i,value:o}=t;if(typeof o=="string"){r.nodeValue=o;return}r.replaceWith(i);return}case 3:{if(!r)return;let{attributes:i,children:o}=t;Y(r,i);let s=Array.from(r.childNodes);await Promise.all(o.map((c,a)=>v(r,c,s[a])));return}}}function w(e,t){let n=A(e,t);return v(e,n)}if(!customElements.get("route-announcer")){let e={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[n,r]of Object.entries(e))this.setAttribute(n,r)}})}var S=()=>{},C,d=document.createElement("route-announcer");function q(e={}){return typeof window<"u"&&"navigation"in window&&navigation.addEventListener("navigate",t=>{if(!t.canTransition||t.hashChange||t.downloadRequest!==null)return;let n=new URL(location.toString()),r=new URL(t.destination.url);if(n.toString()===r.toString()){(e.scrollToTop??!0)&&window.scrollTo({top:0});return}let{beforeDiff:i=S,afterDiff:o=S}=e;C=C||new DOMParser;async function s(){let c=await fetch(r.toString()).then(m=>m.text()),a=C.parseFromString(c,"text/html");x(a,r),await i(a);let l=a.querySelector("title")?.textContent;if(l)document.title=l;else{let m=document.querySelector("h1");l=m?.innerText??m?.textContent??r.pathname}d.textContent!==l&&(d.textContent=l),d.dataset.persist="",a.body.appendChild(d),await w(document,a),(e.scrollToTop??!0)&&(window.scrollTo({top:0}),document.activeElement?.closest("[data-persist]")||document.body.focus()),await o(),delete d.dataset.persist}t.intercept(document.startViewTransition(()=>s()))}),new class{go(n){let r=new URL(n,window.location.toString());return navigation.navigate(r)}back(){return navigation.back()}forward(){return navigation.forward()}}}export{q as default};
+var R=(e,t,n)=>{e.setAttribute(t,new URL(e.getAttribute(t),n).pathname)};function x(e,t){e.querySelectorAll('[href^="./"], [href^="../"]').forEach(n=>R(n,"href",t)),e.querySelectorAll('[src^="./"], [src^="../"]').forEach(n=>R(n,"src",t))}var N=e=>(t,n)=>t[`node${e}`]===n[`node${e}`],D=N("Name"),M=N("Type"),L=N("Value");function I(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let n=[],r=new Map,i=new Map;for(let o of e.attributes)r.set(o.name,o.value);for(let o of t.attributes){let s=r.get(o.name);o.value===s?r.delete(o.name):(typeof s<"u"&&r.delete(o.name),i.set(o.name,o.value))}for(let o of r.keys())n.push({type:5,name:o});for(let[o,s]of i.entries())n.push({type:4,name:o,value:s});return n}function y(e,t=!0){let n=`${e.localName}`;for(let{name:r,value:i}of e.attributes)t&&r.startsWith("data-")||(n+=`[${r}=${i}]`);return n+=e.innerHTML,n}function g(e){if(e.id==="pond-video")return`${e.localName}#${e.id}`;switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[property="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return y(e)}function U(e){let[t,n=""]=e.split("?");return`${t}?t=${Date.now()}&${n.replace(/t=\d+/g,"")}`}function u(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:n,value:r}of e.attributes)n==="src"&&(r=U(r)),t.setAttribute(n,r);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function k(e,t){if(e.children.length===0&&t.children.length===0)return[];let n=[],r=new Map,i=new Map,o=new Map;for(let s of e.children)r.set(g(s),s);for(let s of t.children){let c=g(s),a=r.get(c);a?y(s,!1)!==y(a,!1)&&i.set(c,u(s)):o.set(c,u(s)),r.delete(c)}for(let s of e.childNodes){if(s.nodeType===1){let c=g(s);if(r.has(c)){n.push({type:1});continue}else if(i.has(c)){let a=i.get(c);n.push({type:3,attributes:I(s,a),children:V(s,a)});continue}}n.push(void 0)}for(let s of o.values())n.push({type:0,node:u(s)});return n}function V(e,t){let n=[],r=Math.max(e.childNodes.length,t.childNodes.length);for(let i=0;i<r;i++){let o=e.childNodes.item(i),s=t.childNodes.item(i);n[i]=A(o,s)}return n}function A(e,t){if(!e)return{type:0,node:u(t)};if(!t)return{type:1};if(M(e,t)){if(e.nodeType===3){let n=e.nodeValue,r=t.nodeValue;if(n.trim().length===0&&r.trim().length===0)return}if(e.nodeType===1){if(D(e,t)){let n=k;return{type:3,attributes:I(e,t),children:n(e,t)}}return{type:2,node:u(t)}}else return e.nodeType===9?A(e.documentElement,t.documentElement):L(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:u(t)}}function Y(e,t){if(t.length!==0)for(let{type:n,name:r,value:i}of t)n===5?e.removeAttribute(r):n===4&&e.setAttribute(r,i)}async function v(e,t,n){if(!t)return;let r;switch(e.nodeType===9?(e=e.documentElement,r=e):n?r=n:r=e,t.type){case 0:{let{node:i}=t;e.appendChild(i);return}case 1:{if(!r)return;e.removeChild(r);return}case 2:{if(!r)return;let{node:i,value:o}=t;if(typeof o=="string"){r.nodeValue=o;return}r.replaceWith(i);return}case 3:{if(!r)return;let{attributes:i,children:o}=t;Y(r,i);let s=Array.from(r.childNodes);await Promise.all(o.map((c,a)=>v(r,c,s[a])));return}}}function w(e,t){let n=A(e,t);return v(e,n)}if(!customElements.get("route-announcer")){let e={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[n,r]of Object.entries(e))this.setAttribute(n,r)}})}var P=()=>{},C,d=document.createElement("route-announcer");function q(e={}){return typeof window<"u"&&"navigation"in window&&navigation.addEventListener("navigate",t=>{if(!t.canTransition||t.hashChange||t.downloadRequest!==null)return;let n=new URL(location.toString()),r=new URL(t.destination.url);if(n.toString()===r.toString()){(e.scrollToTop??!0)&&window.scrollTo({top:0});return}let{beforeDiff:i=P,afterDiff:o=P}=e;C=C||new DOMParser;async function s(){let c=await fetch(r.toString()).then(m=>m.text()),a=C.parseFromString(c,"text/html");x(a,r),await i(a);let l=a.querySelector("title")?.textContent;if(l)document.title=l;else{let m=document.querySelector("h1");l=m?.innerText??m?.textContent??r.pathname}d.textContent!==l&&(d.textContent=l),d.dataset.persist="",a.body.appendChild(d),await w(document,a),(e.scrollToTop??!0)&&(window.scrollTo({top:0}),document.activeElement?.closest("[data-persist]")||document.body.focus()),await o(),delete d.dataset.persist}t.intercept(document.startViewTransition(()=>s()))}),new class{go(n){let r=new URL(n,window.location.toString());return navigation.navigate(r)}back(){return navigation.back()}forward(){return navigation.forward()}}}export{q as default};
diff --git a/node_modules/micromorph/dist/spa.js b/node_modules/micromorph/dist/spa.js
index 315ecec..06b5447 100644
--- a/node_modules/micromorph/dist/spa.js
+++ b/node_modules/micromorph/dist/spa.js
@@ -1 +1 @@
-var R=(e,t,n)=>{e.setAttribute(t,new URL(e.getAttribute(t),n).pathname)};function C(e,t){e.querySelectorAll('[href^="./"], [href^="../"]').forEach(n=>R(n,"href",t)),e.querySelectorAll('[src^="./"], [src^="../"]').forEach(n=>R(n,"src",t))}var N=e=>(t,n)=>t[`node${e}`]===n[`node${e}`],x=N("Name"),D=N("Type"),M=N("Value");function L(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let n=[],r=new Map,i=new Map;for(let s of e.attributes)r.set(s.name,s.value);for(let s of t.attributes){let o=r.get(s.name);s.value===o?r.delete(s.name):(typeof o<"u"&&r.delete(s.name),i.set(s.name,s.value))}for(let s of r.keys())n.push({type:5,name:s});for(let[s,o]of i.entries())n.push({type:4,name:s,value:o});return n}function y(e,t=!0){let n=`${e.localName}`;for(let{name:r,value:i}of e.attributes)t&&r.startsWith("data-")||(n+=`[${r}=${i}]`);return n+=e.innerHTML,n}function w(e){switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[name="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return y(e)}function k(e){let[t,n=""]=e.split("?");return`${t}?t=${Date.now()}&${n.replace(/t=\d+/g,"")}`}function l(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:n,value:r}of e.attributes)n==="src"&&(r=k(r)),t.setAttribute(n,r);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function V(e,t){if(e.children.length===0&&t.children.length===0)return[];let n=[],r=new Map,i=new Map,s=new Map;for(let o of e.children)r.set(w(o),o);for(let o of t.children){let a=w(o),c=r.get(a);c?y(o,!1)!==y(c,!1)&&i.set(a,l(o)):s.set(a,l(o)),r.delete(a)}for(let o of e.childNodes){if(o.nodeType===1){let a=w(o);if(r.has(a)){n.push({type:1});continue}else if(i.has(a)){let c=i.get(a);n.push({type:3,attributes:L(o,c),children:I(o,c)});continue}}n.push(void 0)}for(let o of s.values())n.push({type:0,node:l(o)});return n}function I(e,t){let n=[],r=Math.max(e.childNodes.length,t.childNodes.length);for(let i=0;i<r;i++){let s=e.childNodes.item(i),o=t.childNodes.item(i);n[i]=h(s,o)}return n}function h(e,t){if(!e)return{type:0,node:l(t)};if(!t)return{type:1};if(D(e,t)){if(e.nodeType===3){let n=e.nodeValue,r=t.nodeValue;if(n.trim().length===0&&r.trim().length===0)return}if(e.nodeType===1){if(x(e,t)){let n=e.tagName==="HEAD"?V:I;return{type:3,attributes:L(e,t),children:n(e,t)}}return{type:2,node:l(t)}}else return e.nodeType===9?h(e.documentElement,t.documentElement):M(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:l(t)}}function S(e,t){if(t.length!==0)for(let{type:n,name:r,value:i}of t)n===5?e.removeAttribute(r):n===4&&e.setAttribute(r,i)}async function O(e,t,n){if(!t)return;let r;switch(e.nodeType===9?(e=e.documentElement,r=e):n?r=n:r=e,t.type){case 0:{let{node:i}=t;e.appendChild(i);return}case 1:{if(!r)return;e.removeChild(r);return}case 2:{if(!r)return;let{node:i,value:s}=t;if(typeof s=="string"){r.nodeValue=s;return}r.replaceWith(i);return}case 3:{if(!r)return;let{attributes:i,children:s}=t;S(r,i);let o=Array.from(r.childNodes);await Promise.all(s.map((a,c)=>O(r,a,o[c])));return}}}function T(e,t){let n=h(e,t);return O(e,n)}if(!customElements.get("route-announcer")){let e={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[n,r]of Object.entries(e))this.setAttribute(n,r)}})}var d=document.createElement("route-announcer"),Y=e=>e?.nodeType===1,q=e=>{try{let t=new URL(e);if(window.location.origin===t.origin)return t.pathname===window.location.pathname?!t.hash:!0}catch{}return!1},z=({target:e},t)=>{if(!Y(e))return;let n=e.closest("a");if(!n||typeof t.include=="string"&&!n.matches(t.include)||typeof t.include=="function"&&!t.include(n)||"routerIgnore"in n.dataset)return;let{href:r}=n;if(!!q(r))return{url:new URL(r),scroll:"routerNoscroll"in n.dataset?!1:void 0}},P=()=>{},_;async function v(e,t=!1,n){let{beforeDiff:r=P,afterDiff:i=P}=n;_=_||new DOMParser;let s=await fetch(`${e}`).then(c=>c.text()).catch(()=>{window.location.assign(e)});if(!s)return;t||(history.pushState({},"",e),(n.scrollToTop??!0)&&window.scrollTo({top:0}));let o=_.parseFromString(s,"text/html");C(o,e),await r(o);let a=o.querySelector("title")?.textContent;if(a)document.title=a;else{let c=document.querySelector("h1");a=c?.innerText??c?.textContent??e.pathname}d.textContent!==a&&(d.textContent=a),d.dataset.persist="",o.body.appendChild(d),document.startViewTransition?await document.startViewTransition(()=>T(document,o)):T(document,o),document.activeElement?.closest("[data-persist]")||document.body.focus(),await i(),delete d.dataset.persist}function F(e={}){return typeof window<"u"&&(window.addEventListener("click",async t=>{let{url:n,scroll:r=e.scrollToTop}=z(t,e)??{};if(!!n){t.preventDefault();try{v(n,!1,{...e,scrollToTop:r})}catch{window.location.assign(n)}}}),window.addEventListener("popstate",()=>{if(!window.location.hash)try{v(new URL(window.location.toString()),!0,e)}catch{window.location.reload()}})),new class{go(n,r){let i=new URL(n,window.location.toString());return v(i,!1,{...e,...r})}back(){return window.history.back()}forward(){return window.history.forward()}}}export{F as default};
+var R=(e,t,n)=>{e.setAttribute(t,new URL(e.getAttribute(t),n).pathname)};function C(e,t){e.querySelectorAll('[href^="./"], [href^="../"]').forEach(n=>R(n,"href",t)),e.querySelectorAll('[src^="./"], [src^="../"]').forEach(n=>R(n,"src",t))}var N=e=>(t,n)=>t[`node${e}`]===n[`node${e}`],x=N("Name"),D=N("Type"),M=N("Value");function L(e,t){if(e.attributes.length===0&&t.attributes.length===0)return[];let n=[],r=new Map,i=new Map;for(let s of e.attributes)r.set(s.name,s.value);for(let s of t.attributes){let o=r.get(s.name);s.value===o?r.delete(s.name):(typeof o<"u"&&r.delete(s.name),i.set(s.name,s.value))}for(let s of r.keys())n.push({type:5,name:s});for(let[s,o]of i.entries())n.push({type:4,name:s,value:o});return n}function w(e,t=!0){let n=`${e.localName}`;for(let{name:r,value:i}of e.attributes)t&&r.startsWith("data-")||(n+=`[${r}=${i}]`);return n+=e.innerHTML,n}function y(e){if(e.id==="pond-video")return`${e.localName}#${e.id}`;switch(e.tagName){case"BASE":case"TITLE":return e.localName;case"META":{if(e.hasAttribute("name"))return`meta[name="${e.getAttribute("name")}"]`;if(e.hasAttribute("property"))return`meta[property="${e.getAttribute("property")}"]`;break}case"LINK":{if(e.hasAttribute("rel")&&e.hasAttribute("href"))return`link[rel="${e.getAttribute("rel")}"][href="${e.getAttribute("href")}"]`;if(e.hasAttribute("href"))return`link[href="${e.getAttribute("href")}"]`;break}}return w(e)}function $(e){let[t,n=""]=e.split("?");return`${t}?t=${Date.now()}&${n.replace(/t=\d+/g,"")}`}function l(e){if(e.nodeType===1&&e.hasAttribute("data-persist"))return e;if(e.nodeType===1&&e.localName==="script"){let t=document.createElement("script");for(let{name:n,value:r}of e.attributes)n==="src"&&(r=$(r)),t.setAttribute(n,r);return t.innerHTML=e.innerHTML,t}return e.cloneNode(!0)}function k(e,t){if(e.children.length===0&&t.children.length===0)return[];let n=[],r=new Map,i=new Map,s=new Map;for(let o of e.children)r.set(y(o),o);for(let o of t.children){let a=y(o),c=r.get(a);c?w(o,!1)!==w(c,!1)&&i.set(a,l(o)):s.set(a,l(o)),r.delete(a)}for(let o of e.childNodes){if(o.nodeType===1){let a=y(o);if(r.has(a)){n.push({type:1});continue}else if(i.has(a)){let c=i.get(a);n.push({type:3,attributes:L(o,c),children:V(o,c)});continue}}n.push(void 0)}for(let o of s.values())n.push({type:0,node:l(o)});return n}function V(e,t){let n=[],r=Math.max(e.childNodes.length,t.childNodes.length);for(let i=0;i<r;i++){let s=e.childNodes.item(i),o=t.childNodes.item(i);n[i]=h(s,o)}return n}function h(e,t){if(!e)return{type:0,node:l(t)};if(!t)return{type:1};if(D(e,t)){if(e.nodeType===3){let n=e.nodeValue,r=t.nodeValue;if(n.trim().length===0&&r.trim().length===0)return}if(e.nodeType===1){if(x(e,t)){let n=k;return{type:3,attributes:L(e,t),children:n(e,t)}}return{type:2,node:l(t)}}else return e.nodeType===9?h(e.documentElement,t.documentElement):M(e,t)?void 0:{type:2,value:t.nodeValue}}return{type:2,node:l(t)}}function S(e,t){if(t.length!==0)for(let{type:n,name:r,value:i}of t)n===5?e.removeAttribute(r):n===4&&e.setAttribute(r,i)}async function O(e,t,n){if(!t)return;let r;switch(e.nodeType===9?(e=e.documentElement,r=e):n?r=n:r=e,t.type){case 0:{let{node:i}=t;e.appendChild(i);return}case 1:{if(!r)return;e.removeChild(r);return}case 2:{if(!r)return;let{node:i,value:s}=t;if(typeof s=="string"){r.nodeValue=s;return}r.replaceWith(i);return}case 3:{if(!r)return;let{attributes:i,children:s}=t;S(r,i);let o=Array.from(r.childNodes);await Promise.all(s.map((a,c)=>O(r,a,o[c])));return}}}function T(e,t){let n=h(e,t);return O(e,n)}if(!customElements.get("route-announcer")){let e={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[n,r]of Object.entries(e))this.setAttribute(n,r)}})}var d=document.createElement("route-announcer"),Y=e=>e?.nodeType===1,q=e=>{try{let t=new URL(e);if(window.location.origin===t.origin)return t.pathname===window.location.pathname?!t.hash:!0}catch{}return!1},z=({target:e},t)=>{if(!Y(e))return;let n=e.closest("a");if(!n||typeof t.include=="string"&&!n.matches(t.include)||typeof t.include=="function"&&!t.include(n)||"routerIgnore"in n.dataset)return;let{href:r}=n;if(!!q(r))return{url:new URL(r),scroll:"routerNoscroll"in n.dataset?!1:void 0}},I=()=>{},_;async function v(e,t=!1,n){let{beforeDiff:r=I,afterDiff:i=I}=n;_=_||new DOMParser;let s=await fetch(`${e}`).then(c=>c.text()).catch(()=>{window.location.assign(e)});if(!s)return;t||(history.pushState({},"",e),(n.scrollToTop??!0)&&window.scrollTo({top:0}));let o=_.parseFromString(s,"text/html");C(o,e),await r(o);let a=o.querySelector("title")?.textContent;if(a)document.title=a;else{let c=document.querySelector("h1");a=c?.innerText??c?.textContent??e.pathname}d.textContent!==a&&(d.textContent=a),d.dataset.persist="",o.body.appendChild(d),document.startViewTransition?await document.startViewTransition(()=>T(document,o)):T(document,o),document.activeElement?.closest("[data-persist]")||document.body.focus(),await i(),delete d.dataset.persist}function F(e={}){return typeof window<"u"&&(window.addEventListener("click",async t=>{let{url:n,scroll:r=e.scrollToTop}=z(t,e)??{};if(!!n){t.preventDefault();try{v(n,!1,{...e,scrollToTop:r})}catch{window.location.assign(n)}}}),window.addEventListener("popstate",()=>{if(!window.location.hash)try{v(new URL(window.location.toString()),!0,e)}catch{window.location.reload()}})),new class{go(n,r){let i=new URL(n,window.location.toString());return v(i,!1,{...e,...r})}back(){return window.history.back()}forward(){return window.history.forward()}}}export{F as default};
